<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagnostic Complet de l'Appareil</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .section {
            background-color: #f4f4f4;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        .test-passed { color: green; }
        .test-failed { color: red; }
        .detail { font-size: 0.9em; color: #666; }
    </style>
</head>
<body>
    <h1>üîç Diagnostic Complet de l'Appareil</h1>

    <div id="device-basic" class="section">
        <h2>Informations de Base</h2>
        <p id="is-mobile"></p>
        <p id="platform"></p>
        <p id="browser"></p>
        <p id="user-agent" class="detail"></p>
        <p id="screen-size"></p>
        <p id="pixel-ratio"></p>
    </div>

    <div id="device-capabilities" class="section">
        <h2>Capacit√©s de l'Appareil</h2>
        <p id="touch-support"></p>
        <p id="geolocation"></p>
        <p id="camera-support"></p>
        <p id="microphone-support"></p>
        <p id="battery-support"></p>
    </div>

    <div id="network-info" class="section">
        <h2>Informations R√©seau</h2>
        <p id="connection-type"></p>
        <p id="connection-speed"></p>
        <p id="effective-connection-type"></p>
    </div>

    <div id="hardware-info" class="section">
        <h2>Informations Mat√©rielles</h2>
        <p id="cpu-cores"></p>
        <p id="memory"></p>
        <p id="gpu-info"></p>
    </div>

    <div id="advanced-tests" class="section">
        <h2>Tests Avanc√©s</h2>
        <p id="webgl-support"></p>
        <p id="webrtc-support"></p>
        <p id="orientation-support"></p>
        <p id="sensors"></p>
    </div>

    <div id="browser-features" class="section">
        <h2>Fonctionnalit√©s du Navigateur</h2>
        <p id="cookies-enabled"></p>
        <p id="local-storage"></p>
        <p id="session-storage"></p>
        <p id="web-workers"></p>
    </div>

    <script>
       function runComprehensiveDeviceTest() {
    // Fonction pour d√©terminer le nom du navigateur
    function getBrowserName() {
        const agent = navigator.userAgent.toLowerCase();
        switch (true) {
            case agent.includes('edge'): return 'Microsoft Edge';
            case agent.includes('opr'): return 'Opera';
            case agent.includes('chrome'): return 'Google Chrome';
            case agent.includes('trident'): return 'Internet Explorer';
            case agent.includes('firefox'): return 'Mozilla Firefox';
            case agent.includes('safari'): return 'Safari';
            default: return 'Navigateur inconnu';
        }
    }

    // Informations de base
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    document.getElementById('is-mobile').textContent = 
        `Type d'appareil : ${isMobile ? 'üì± Mobile' : 'üíª Desktop'}`;
    
    document.getElementById('platform').textContent = 
        `Plateforme : ${navigator.platform}`;
    
    document.getElementById('browser').textContent = 
        `Navigateur : ${getBrowserName()}`;
    
    document.getElementById('user-agent').textContent = 
        `User Agent : ${navigator.userAgent}`;
    
    document.getElementById('screen-size').textContent = 
        `Taille de l'√©cran : ${window.screen.width} x ${window.screen.height}`;
    
    document.getElementById('pixel-ratio').textContent = 
        `Ratio de pixels : ${window.devicePixelRatio}`;

    // Capacit√©s de l'appareil
    document.getElementById('touch-support').textContent = 
        `Support tactile : ${('ontouchstart' in window) ? '‚úÖ Oui' : '‚ùå Non'}`;

    // G√©olocalisation
    document.getElementById('geolocation').textContent = 
        `G√©olocalisation : ${navigator.geolocation ? '‚úÖ Support√©e' : '‚ùå Non support√©e'}`;

    // Cam√©ra et Micro
    navigator.mediaDevices.enumerateDevices().then(devices => {
        const cameras = devices.filter(device => device.kind === 'videoinput');
        const microphones = devices.filter(device => device.kind === 'audioinput');
        
        document.getElementById('camera-support').textContent = 
            `Cam√©ras d√©tect√©es : ${cameras.length} ‚úÖ`;
        
        document.getElementById('microphone-support').textContent = 
            `Microphones d√©tect√©s : ${microphones.length} ‚úÖ`;
    }).catch(() => {
        document.getElementById('camera-support').textContent = 
            'Cam√©ra : ‚ùå Acc√®s non autoris√©';
        document.getElementById('microphone-support').textContent = 
            'Microphone : ‚ùå Acc√®s non autoris√©';
    });

    // Batterie
    if ('getBattery' in navigator) {
        navigator.getBattery().then(battery => {
            document.getElementById('battery-support').textContent = 
                `Batterie : ${battery.charging ? 'üîå En charge' : 'üîã Sur batterie'} (${Math.round(battery.level * 100)}%)`;
        });
    } else {
        document.getElementById('battery-support').textContent = 
            'Batterie : ‚ùå Non support√©e';
    }

    // Informations r√©seau (suite)
        if (connection) {
            document.getElementById('connection-speed').textContent = 
                `Vitesse de connexion : ${connection.downlink} Mbps`;
        } else {
            document.getElementById('connection-speed').textContent = 
                'Vitesse de connexion : Non disponible';
        }

        // Informations mat√©rielles
        document.getElementById('cpu-cores').textContent = 
            `Nombre de c≈ìurs CPU : ${navigator.hardwareConcurrency || 'Non disponible'}`;

        // M√©moire
        if ('deviceMemory' in navigator) {
            document.getElementById('memory').textContent = 
                `M√©moire : ${navigator.deviceMemory} Go`;
        } else {
            document.getElementById('memory').textContent = 
                'M√©moire : Non disponible';
        }

        // GPU et WebGL
        function checkWebGL() {
            try {
                const canvas = document.createElement('canvas');
                return !!(window.WebGLRenderingContext && 
                    (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));
            } catch(e) {
                return false;
            }
        }
        document.getElementById('webgl-support').textContent = 
            `Support WebGL : ${checkWebGL() ? '‚úÖ Oui' : '‚ùå Non'}`;

        // Fonctionnalit√©s du navigateur
        document.getElementById('cookies-enabled').textContent = 
            `Cookies activ√©s : ${navigator.cookieEnabled ? '‚úÖ Oui' : '‚ùå Non'}`;

        document.getElementById('local-storage').textContent = 
            `Local Storage : ${typeof(Storage) !== "undefined" ? '‚úÖ Support√©' : '‚ùå Non support√©'}`;

        document.getElementById('session-storage').textContent = 
            `Session Storage : ${sessionStorage ? '‚úÖ Support√©' : '‚ùå Non support√©'}`;

        document.getElementById('web-workers').textContent = 
            `Web Workers : ${!!window.Worker ? '‚úÖ Support√©s' : '‚ùå Non support√©s'}`;

        // Capteurs
        function checkOrientationSensors() {
            return 'DeviceOrientationEvent' in window && 
                   'DeviceMotionEvent' in window;
        }
        document.getElementById('orientation-support').textContent = 
            `Capteurs d'orientation : ${checkOrientationSensors() ? '‚úÖ Support√©s' : '‚ùå Non support√©s'}`;

        // Lancer tous les tests au chargement
        window.onload = runComprehensiveDeviceTest;
    </script>
</body>
</html>

